!function(n,i){if("object"==typeof exports&&"object"==typeof module)module.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var e=i();for(var t in e)("object"==typeof exports?exports:n)[t]=e[t]}}("undefined"!=typeof self?self:this,function(){return webpackJsonp([0],[,,function(n,i,e){"use strict";function t(n,i){return'<li data-id="'+n.id+'" class="resultsLink">\n  <svg class="icon searchicon" aria-hidden="true">\n  <use xlink:href="#icon-search"></use>\n</svg><a href="./song.html?id='+n.id+'">'+i.name+" - "+i.singer+"</a>\n  </li>"}e(0),e(1),e(3),e(4),AV.init({appId:"dkIJBHfaV9puzkRqVipWFH8s-gzGzoHsz",appKey:"JVq509599HnbKRiUNthOnDMM"}),$(function(){function n(){return new AV.Query("Song").find()}function i(n,i){var e=n.attributes;$("section#updateMusic").append(l(n,i,e))}function e(n,i){var e=n.attributes;$(".hot-content").append(d(n,i,e))}function o(n){var i=n.attributes;$(".songName").append(f(n,i))}function s(n){$(".songName").on("click","ol",function(i){var e=n.attributes;this.innerText===e.name&&(window.location.href="song.html?id="+n.id)})}function a(n){var i=n.attributes;$("#matching").append(t(n,i))}function r(){$(".holder").hide(),$("#result").empty(),$("#matching").empty(),$(".hotMusic").hide()}function c(n){var i=new AV.Query("Song");i.contains("name",n);var e=new AV.Query("Song");return e.contains("singer",n),AV.Query.or(i,e).find()}function u(n){var i=$(n.currentTarget),e=i.index();i.addClass("active").siblings().removeClass("active"),$("#contentwarper").children().eq(e).addClass("active").siblings().removeClass("active")}function l(n,i,e){return'<a class="songlink" href="song.html?id='+n.id+'">\n    <h2>'+e.name+'</h2>\n    <div class="description">\n    <svg class="icon iconsq" aria-hidden="true">\n    <use xlink:href="#icon-SQ"></use>\n    </svg>\n    <span>'+e.singer+'</span>\n    </div>\n    <div class="playbutton">\n    <svg class="icon iconplay" aria-hidden="true">\n    <use xlink:href="#icon-play"></use>\n    </svg>\n    </div>\n    </a>'}function d(n,i,e){return'<a href="./song?id='+n.id+'" class="hot-item">\n    <div class="hot-item-num">0'+(i+1)+'</div>\n    <div class="hot-item-content border">\n    <div class="hot-item-context">\n    <h3>'+e.name+'</h3>\n    <p class="textoverflow">\n    <svg class="icon iconsq" aria-hidden="true">\n    <use xlink:href="#icon-SQ"></use>\n    </svg>\n    '+e.singer+" - "+e.name+'\n    </div>\n    <div class="hot-item-play">\n    <svg class="icon iconplay" aria-hidden="true">\n    <use xlink:href="#icon-play"></use>\n    </svg>\n    </div>\n    </div>\n    </a>'}function f(n,i){return'<ol data-id="'+n.id+'">'+i.name+"</ol>"}!function(){$("#navBar").on("click","li",function(n){u(n)})}(),function(){$("#warperMusic").on("click","li",function(n){window.location.href="./playlist.html"})}(),function(){n().then(function(n){$("#loader").remove(),n.forEach(i),n.forEach(e),n.forEach(o),n.forEach(s)},function(n){alert(n)})}();var h=null;!function(){$("#searchIp").on("input",function(n){var i=$(n.currentTarget).val().trim();!0===h&&window.clearTimeout(h),h=setTimeout(function(){if(h=null,r(),""===i)return $(".holder").show(),$("#matching").empty(),$(".holder").show(),$("#result").empty(),void $(".hotMusic").show();c(i).then(function(n){0===n.length?$("#result").html("没有搜索结果"):($("#result").html("搜索“"+i+"”"),n.forEach(a))})},200)})}()})},function(n,i){},function(n,i){}],[2])});
//# sourceMappingURL=home.bundle.dc966370db9563b19875.js.map